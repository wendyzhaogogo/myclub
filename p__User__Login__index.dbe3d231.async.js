"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[366],{53666:function(ae,v,e){e.r(v);var B=e(90819),d=e.n(B),I=e(73193),c=e.n(I),S=e(89933),E=e.n(S),U=e(45332),P=e.n(U),C=e(31509),T=e(22425),x=e(51513),R=e(56811),W=e(23729),y=e(22041),K=e(84293),a=e(66011),F=e(7e3),D=e(86385),Z=e(36700),w=e(36453),O=e(44194),$=e(56321),z=e(78404),s=e(31549),A=(0,z.kc)(function(M){var r=M.token;return{action:{marginLeft:"8px",color:"rgba(0, 0, 0, 0.2)",fontSize:"24px",verticalAlign:"middle",cursor:"pointer",transition:"color 0.3s","&:hover":{color:r.colorPrimaryActive}},lang:{width:42,height:42,lineHeight:"42px",position:"fixed",right:16,borderRadius:r.borderRadius,":hover":{backgroundColor:r.colorBgTextHover}},container:{display:"flex",flexDirection:"column",height:"100vh",overflow:"auto",backgroundImage:"url('https://mdn.alipayobjects.com/yuyan_qk0oxh/afts/img/V-_oS6r-i7wAAAAAAAAAAAAAFl94AQBr')",backgroundSize:"100% 100%"}}}),H=function(){var r=A(),m=r.styles;return(0,s.jsx)("div",{className:m.lang,"data-lang":!0,children:a.SelectLang&&(0,s.jsx)(a.SelectLang,{})})},k=function(r){var m=r.content;return(0,s.jsx)(F.Z,{style:{marginBottom:24},message:m,type:"error",showIcon:!0})},G=function(){var r=(0,O.useState)({}),m=P()(r,2),b=m[0],N=m[1],V=(0,O.useState)("account"),L=P()(V,2),h=L[0],Q=L[1],j=(0,a.useModel)("@@initialState"),f=j.initialState,J=j.setInitialState,X=A(),Y=X.styles,i=(0,a.useIntl)(),q=function(){var g=E()(d()().mark(function _(){var l,t;return d()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,f==null||(l=f.fetchUserInfo)===null||l===void 0?void 0:l.call(f);case 2:t=u.sent,t&&(0,$.flushSync)(function(){J(function(p){return c()(c()({},p),{},{currentUser:t})})});case 4:case"end":return u.stop()}},_)}));return function(){return g.apply(this,arguments)}}(),ee=function(){var g=E()(d()().mark(function _(l){var t,o,u,p;return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,T.x4)(c()(c()({},l),{},{type:h}));case 3:if(t=n.sent,t.status!=="ok"){n.next=12;break}return o=i.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),D.ZP.success(o),n.next=9,q();case 9:return u=new URL(window.location.href).searchParams,a.history.push(u.get("redirect")||"/"),n.abrupt("return");case 12:console.log(t),N(t),n.next=21;break;case 16:n.prev=16,n.t0=n.catch(0),p=i.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),console.log(n.t0),D.ZP.error(p);case 21:case"end":return n.stop()}},_,null,[[0,16]])}));return function(l){return g.apply(this,arguments)}}(),se=b.status,ne=b.type;return(0,s.jsxs)("div",{className:Y.container,children:[(0,s.jsx)(a.Helmet,{children:(0,s.jsxs)("title",{children:[i.formatMessage({id:"menu.login",defaultMessage:"\u767B\u5F55\u9875"}),"- ",w.Z.title]})}),(0,s.jsx)(H,{}),(0,s.jsx)("div",{style:{flex:"1",padding:"32px 0"},children:(0,s.jsxs)(W.U,{contentStyle:{minWidth:280,maxWidth:"75vw"},title:"SAM Club",initialValues:{autoLogin:!0},actions:[],onFinish:function(){var g=E()(d()().mark(function _(l){return d()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,ee(l);case 2:case"end":return o.stop()}},_)}));return function(_){return g.apply(this,arguments)}}(),children:[(0,s.jsx)(Z.Z,{activeKey:h,onChange:Q,centered:!0,items:[{key:"account",label:i.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"})}]}),se==="error"&&ne==="account"&&(0,s.jsx)(k,{content:i.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF(admin/ant.design)"})}),h==="account"&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.Z,{name:"username",fieldProps:{size:"large",prefix:(0,s.jsx)(x.Z,{})},placeholder:i.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D: admin or user"}),rules:[{required:!0,message:(0,s.jsx)(a.FormattedMessage,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),(0,s.jsx)(y.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,s.jsx)(R.Z,{})},placeholder:i.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: ant.design"}),rules:[{required:!0,message:(0,s.jsx)(a.FormattedMessage,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]}),(0,s.jsxs)("div",{style:{marginBottom:24},children:[(0,s.jsx)(K.Z,{noStyle:!0,name:"autoLogin",children:(0,s.jsx)(a.FormattedMessage,{id:"pages.login.rememberMe",defaultMessage:"\u81EA\u52A8\u767B\u5F55"})}),(0,s.jsx)("a",{style:{float:"right"},children:(0,s.jsx)(a.FormattedMessage,{id:"pages.login.forgotPassword",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"})})]})]})}),(0,s.jsx)(C.$_,{})]})};v.default=G}}]);
